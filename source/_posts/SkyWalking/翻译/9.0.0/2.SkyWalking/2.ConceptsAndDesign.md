https://skywalking.apache.org/docs/main/latest/en/concepts-and-designs/overview/

# 什么是SkyWalking?

## 概览

​	SkyWalking是一个开源的可观测性平台，用来从服务或者云原生基础设施中收集数据，分析数据，聚合数据，可视化数据。

### 使用SkyWalking的理由

​	SkyWalking提供了在许多不同场景下观测、监控分布式系统的解决方案。首先，类似于传统方法，SkyW为Java、C#、Node.js、Go、PHP和Nginx Lua等服务提供了自动仪表盘代理(auto auto instrument agents)。在多语言、持续部署的环境中，云原生基础架构变得更加强大，但也更加复杂。 SkyWalking 的服务网格接收器允许 SkyWalking 接收来自 Istio/Envoy 和 Linkerd 等服务网格框架的遥测数据，让用户了解整个分布式系统。

​	SkyWalking 为**service**(s), **service instance**(s), **endpoint**(s)提供可观测性能力。 如今，Service、Instance 和 Endpoint 等术语随处可见，因此值得在 SkyWalking 的上下文中定义它们的具体含义：

* **Service**:表示为传入请求提供相同行为的一组/一组工作负载。 您可以在使用仪器代理或 SDK 时定义服务名称。 SkyWalking 还可以使用您在 Istio 等平台中定义的名称。

* **Service Instance**: 服务组中的每个单独的工作负载都称为一个实例。 与 Kubernetes 中的 pod 一样，它不需要是单个 OS 进程，但是，如果您使用的是仪器代理，则实例实际上是一个真正的 OS 进程。

* **Endpoint**: 用于传入请求的服务中的路径，例如 HTTP URI 路径或 gRPC 服务类 + 方法签名。



​	SkyWalking 允许用户了解Services 和Endpoints 的拓扑关系，查看每个Service/Service Instance/Endpoint 的指标，并设置报警规则。

​	从 v9 开始，SkyWalking 引入了新的核心概念层。 层代表计算机科学中的一个抽象框架，例如操作系统（OS_LINUX 层）、Kubernetes（k8s 层）。 所有检测到的实例都属于一个层来表示该实例的运行环境，服务将根据其实例具有一个或多个层定义。 

​	此外，您还可以集成：

1. 其他使用带有 Zipkin、Jaeger 和 OpenCensus 的 SkyWalking 本地代理和 SDK 的分布式跟踪。
2. 其他度量系统，如 Prometheus、Sleuth(Micrometer)、OpenTelemetry。

### 体系架构

​		SkyWalking 在逻辑上分为四个部分：Probes、Platform backend、Storage 和 UI。

![](https://skywalking.apache.org/images/SkyWalking_Architecture_20210424.png?t=20210424)

* 探针收集数据并根据 SkyWalking 要求重新格式化（不同的探测器支持不同的来源）。
* 平台后端支持数据聚合、分析和流式处理，包括跟踪、度量和日志。
* 存储通过开放/可插入接口存储 SkyWalking 数据。 您可以选择现有的实现，例如 ElasticSearch、H2、MySQL、TiDB、InfluxDB，也可以自己实现。 欢迎为新的存储实现打补丁！
* UI 是一个高度可定制的基于 Web 的界面，允许 SkyWalking 最终用户可视化和管理 SkyWalking 数据。

## 设计目标

​	本文档概述了 SkyWalking 项目的核心设计目标。

* **保持可观测性**：  无论目标系统采用何种部署方式，SkyWalking 都会为其提供集成解决方案以保持可观察性。 基于此，SkyWalking 提供了多种运行时表单和探针。
* **拓扑、度量和追踪**: 了解分布式系统的第一步是拓扑图。 它以易于阅读的布局可视化整个复杂系统。 在拓扑下，OSS人员对服务、实例、端点、调用等指标有更高的要求。 跟踪采用详细日志的形式，以了解这些指标。 例如，当端点延迟变长时，您希望查看最慢的跟踪以找出原因。 所以你可以看到，从大局到细节，都是需要的。 SkyWalking 集成并提供了许多功能，使这成为可能且易于理解。

* **轻量级**: 需要两个轻量级的部分。 (1)在probe中，我们只依赖网络通信框架，更喜欢gRPC。 这样，探针应该尽可能小，以避免库冲突和VM的有效负载，例如JVM中的容量要求。 (2) 作为一个可观测性平台，它是您项目环境中的二级和三级系统。 所以我们正在使用我们自己的轻量级框架来构建后端核心。 然后你不需要部署大数据技术平台和维护它们。 SkyWalking 在技术栈中应该很简单。

* **可插拔**： SkyWalking 核心团队提供了很多默认的实现，但肯定是不够的，也不适合所有场景。 因此，我们提供了许多可插拔的功能。

* **可移植性**： SkyWalking 可以在多种环境中运行，包括： (1) 使用传统的注册中心，如 eureka。 (2) 使用包含服务发现的RPC框架，如Spring Cloud、Apache Dubbo。 (3) 在现代基础设施中使用 Service Mesh。 (4) 使用云服务。 (5) 跨云部署。 SkyWalking 在所有这些情况下都应该运行良好。

* **互通性**: 可观测性领域如此广阔，以至于 SkyWalking 几乎不可能支持所有系统，即使在其社区的支持下也是如此。 目前，它支持与其他 OSS 系统的互通性，尤其是探针，如 Zipkin、Jaeger、OpenTracing 和 OpenCensus。 SkyWalking 能够接受和读取这些数据格式对最终用户来说非常重要，因为用户不需要切换他们的库。

# 探针

## 探针简介

​	在SkyWalking中，探针意味着一个负责收集、追踪、测量遥测数据的代理或者SDK。

​	基于目标系统技术栈，探针执行任务的方式有很大不同。 但最终，它们都朝着同一个目标努力——收集和重新格式化数据，然后将它们发送到后端。
